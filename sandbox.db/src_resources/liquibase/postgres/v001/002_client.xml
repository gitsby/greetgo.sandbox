<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd">

    <changeSet author="makhan" id="create-table-client">
        <sql endDelimiter=";;"><![CDATA[
        CREATE SEQUENCE client_id_seq INCREMENT 1 START 1;
        CREATE TABLE client
        (
            id integer NOT NULL DEFAULT NEXTVAL(('"client_id_seq"'::text)::regclass) PRIMARY KEY,
            surname varchar(255) NULL,
            name varchar(255) NULL,
            patronymic varchar(255) NULL,
            gender varchar(50) NULL,
            birth_date date NULL,
            charm integer NULL
        )
    ]]></sql>
    </changeSet>

    <changeSet author="makhan" id="create-table-client_account">
        <sql endDelimiter=";;"><![CDATA[
        CREATE SEQUENCE client_account_id_seq INCREMENT 1 START 1;
        CREATE TABLE client_account
        (
            id integer NOT NULL   DEFAULT NEXTVAL(('"client_account_id_seq"'::text)::regclass) PRIMARY KEY,
            client integer NULL,
            money double precision NULL,
            number varchar(50) NULL,
            registered_at timestamp without time zone NULL
        )
    ]]></sql>
    </changeSet>

    <changeSet author="makhan" id="client_account_transaction">
        <sql endDelimiter=";;"><![CDATA[
        CREATE TABLE client_account_transaction
        (
            id integer NOT NULL PRIMARY KEY,
            account integer NULL,
            money double precision NULL,
            finished_at timestamp without time zone NULL,
            type integer NULL
        )
    ]]></sql>
    </changeSet>

    <changeSet author="makhan" id="create-table-client_addr">
        <sql endDelimiter=";;"><![CDATA[
        CREATE TABLE client_addr
        (
            client integer NOT NULL,
            type varchar(50) NULL,
            street varchar(255) NULL,
            house varchar(255) NULL,
            flat varchar(255) NULL
        )
    ]]></sql>
    </changeSet>

    <changeSet author="makhan" id="create-table-client_phone">
        <sql endDelimiter=";;"><![CDATA[
        CREATE TABLE client_phone
        (
            client integer NOT NULL,
            number varchar(255) NULL,
            type varchar(50) NULL
        )
    ]]></sql>
    </changeSet>

    <changeSet author="makhan" id="create-table-transaction_type">
        <sql endDelimiter=";;"><![CDATA[
        CREATE TABLE transaction_type
        (
            id integer NOT NULL PRIMARY KEY,
            code varchar(50) NULL,
            name varchar(50) NULL
        )
    ]]></sql>
    </changeSet>

    <changeSet author="makhan" id="create-table-charm">
        <sql endDelimiter=";;"><![CDATA[
        CREATE TABLE charm
        (
            id integer NOT NULL PRIMARY KEY,
            name varchar(50) NULL,
            description varchar(50) NULL,
            energy double precision NULL
        )
    ]]></sql>
    </changeSet>

</databaseChangeLog>
